\chapter{Literature review}
\label{chap:4_literature}
\section{Empirical studies on Test-Driven Development}
In the past, the Empirical Software Engineering community has taken interest into the investigation of the effects of \tdd on several outcomes \cite{DBLP:conf/esem/FucciS0SSUTJO16} \cite{DBLP:journals/tse/ErdogmusMT05} \cite{DBLP:journals/infsof/Madeyski10}, including the ones of interest for this study, \ie software/functional quality, productivity, and (more rarely) number of written test cases. These studies are summarized in Systematic Literature Reviews (\slrs) and meta-analyses (\eg \cite{DBLP:journals/infsof/BissiNE16, DBLP:journals/infsof/MunirMP14, DBLP:journals/tse/RafiqueM13, TDDEffective}).

The \slr by Turhan \etal \cite{TDDEffective} includes 32 primary studies (2000-2009). The gathered evidence shows a moderate effect in favor of \tdd on quality, while results on productivity is inconclusive, namely there is no decisive advantage on productivity for employing \tdd. 

Bissi \etal \cite{DBLP:journals/infsof/BissiNE16} conducted another \slr that includes 27 primary studies ranging from 1999 to 2014, with the aim of locating, selecting, and evaluating available empirical studies on the application of \tdd in software development, targeting the effects that this practice produces on productivity and internal and external software quality. Similarly to Turhan \etal \cite{TDDEffective}, the authors observed an improvement of functional quality due to \tdd, while results are inconclusive for productivity. Moreover, one of the opportunities identified by this \slr for future research on the topic concerns the expansion of the \tdd practice to other paradigms and software development technologies, as most research is focused on simple examples using the \textit{Java} programming language.

Rafique and Misic \cite{DBLP:journals/tse/RafiqueM13} conducted a meta-analysis of 25 controlled experiments (2000-2011). The authors observed a small effect in favor of \tdd on functional quality, while again for productivity the results are inconclusive. 
Finally, Munir \etal \cite{DBLP:journals/infsof/MunirMP14,} in their \slr classifies 41 primary studies (2000-2011) according to the combination of their rigor and relevance. The authors found different conclusions for both functional quality and productivity in each classification.

An example of long-term investigation is the one by Marchenko \etal \cite{DBLP:conf/xpu/MarchenkoAI09}, where the authors conducted a three-year-long case study about the use of \tdd at Nokia-Siemens Network, during which they observed and interviewed eight participants (one Scrum master, one product owner, and six developers) and then ran qualitative data analyses. 
The participants perceived \tdd as important for the improvement of their code from a structural and functional perspective; furthermore, productivity increased due to the team's improved confidence with the code base. The results show that \tdd was not suitable for bug fixing, especially when bugs are difficult to reproduce (\eg when a specific environment setup is needed) or for quick experimentation due to the extra effort required for testing. The authors also reported some concerns regarding the lack of a solid architecture when applying \tdd.

Beller \etal \cite{DBLP:journals/tse/BellerGPPAZ19} executed a long-term study in-the-wild covering 594 open-source projects over the course of 2.5 years. They found that only 16 developers use \tdd more than 20\% of the time when making changes to their source code; moreover, \tdd was used in only 12\% of the projects claiming to do so, and for the majority by experienced developers.

Borle \etal \cite{DBLP:journals/ese/BorleFSGH18} conducted a retrospective analysis of a number of \textit{Java} projects, hosted on GitHub, that adopted \tdd to some extent. The authors built sets of \tdd projects that differed one another based on the extent to which \tdd was adopted within these projects; the sets of \tdd projects were then compared to control sets to determine whether \tdd had a significant impact on the following characteristics: average commit velocity, number of bug-fixing commits, number of issues, usage of continuous integration, and number of pull requests. The results did not suggest any significant impact of \tdd on the above-mentioned characteristics.

Latorre \cite{DBLP:journals/tse/Latorre14} studied the capability of 30 professional software developers of different seniority levels (junior, intermediate, and expert) to develop a complex software system by using \tdd; the study targeted the learnability of \tdd since the participants did not know that technique before participating in the study. 
The longitudinal one-month study started after giving the developers, proficient in \textit{Java} and unit testing, a training session on \tdd. After this session, the participants were able to correctly apply \tdd (\eg following the three-steps micro-cycle): they followed the \tdd cycle between 80\% and 90\% of the time, but initially, their performance depended on experience, as the seniors developers only needed a few iterations, whereas intermediates and juniors needed more time to reach a high level of conformance to \tdd. 
Experience had an impact on performance: when using \tdd, only the experts were able to be as productive as they were when applying a traditional development methodology (measured during the initial development of the system). According to the junior participants, refactoring and design decision hindered their performance. Finally, experience did not have an impact on long-term functional quality; the results show that all participants delivered functionally correct software regardless of their seniority. 
Latorre \cite{DBLP:journals/tse/Latorre14} also provides initial evidence on the retainment of \tdd: six months after the study investigating the learnability of \tdd, three developers, among those who had previously participated in that study, were asked to implement a new functionality; the results from this preliminary investigation suggest that developers retain \tdd in terms of developers' performance and conformance to \tdd.

Similarly, Romano \etal \cite{DBLP:conf/esem/Fucci0BCSTJ18} researched the retainment of \tdd knowledge and the effect on developers' productivity and external quality of software in a longitudinal study with the participation of Computer Science students; while their findings suggests that using \tdd does not result in a significant statistical difference on the latter constructs, employing this development practice allowed participants to write more test cases. Furthermore, this ability of novice developers to produce more tests using \tdd compared to \notdd was retained over time (6 months).

Although the above-mentioned studies have taken a longitudinal perspective when studying \tdd, none of them has mainly focused on the effect of \tdd applied to the development of \ess.


\section{Related works on Embedded Systems testings}
Garousi \etal \cite{DBLP:journals/infsof/GarousiFKY18} provided a Systematic Literature Mapping (SLM) for \es testing by reviewing 312 papers, concerning the types of testing activity, types of test artifacts generated, and the types of industries in which studies have focused, with the goal of identifying the state-of-the-art and -practice for \ess testing.
Topics such as model-based and automated/automatic testing, test-case generation, and control systems were among the most popular and discussed ones in the articles they examined. Most of the review papers (137 of 312, around 43.9\%) presented solution proposals without rigorous empirical studies; 98 (31.4\%) papers were weak empirical studies (validation research). 36 (11.5\%) were experience papers. 34 were strong empirical studies (evaluation research). 2 and 5 papers, respectively, were philosophical and opinion papers.

In terms of level of testing considered in the papers, most of them (233 papers) considered system testing. 89 and 36 papers, respectively, focused on unit and integration testing; among the ones focused on unit testing, only two of the sources (\cite{4428578}, \cite{DBLP:conf/isese/GuanOA06}) applied \tdd to embedded software. 
Several practical examples of automated unit test code were provided.
The most popular technique for deriving test artifacts was requirements-based testing: 159 papers (58.4\%) discussed it, and most of them (142, 52.2\%) used model-based testing, which falls into the X-in-the-loop development paradigm.
Model-based testing employs forward or backward engineering to develop models; once these models are validated, they can be used for test-case design (\eg Finite-State Machines, FSMs, and their extensions are frequently used to derive test-case sequences, employing coverage criteria such as all-transitions coverage.)
As for the type of test activities, there was a good mix of papers proposing techniques and tools for each of the test activities, with a major focus on test execution, automation and criteria-based test case design (\eg based on code coverage).
Finally, as the authors' state, there is a need for future research to conduct empirical studies providing industrial evidence on the effectiveness and efficiency of embedded software testing approaches (including \tdd) in specific contexts to further improve decision support on the selection of embedded software testing approaches beyond their SLM.
